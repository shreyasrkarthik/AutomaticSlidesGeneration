
Adhoc Wireless Networks(cid:1)

Routing Protocols

AHWN

Dr. Ram P Rustagi 
Dept of CSE 
PES University 
rprustagi@pes.edu

1


• Fully distributed
• Adaptive to frequent topology changes
• Route computation should involve min nodes
• Avoid global state maintenance
• Loop free and not stale routing
• Quick convergence
• Provide some level of QoS
• Optimal use of resources

AHWN Routing Proto Characteristics

– BW, computing, battery, memory 

AHWN

2


• Classiﬁcation categories

Classiﬁcation of Routing Protocol
• Above classiﬁcation is not mutually exclusive

– Routing information update mechanism
– Use of temporal information for routing
– Routing topology
– Utilization of speciﬁc resources

AHWN

3


• Proactive or table driven

• Reactive or on-demand routing 

• Hybrid routing (combination above two)
– Within a zone, use table driven approach
– Beyond the zone, use on deman routing

Routing Info Update Mechanism
– Each node maintains topology in routing tables
– Routing info is ﬂooded in the whole n/w
– To reach dst, run path ﬁnding algo in the table
– Node does not maintaint topology info
– Node obtains path when required
– No periodic exchange of routing info

AHWN

4


• Using past temporal info
– Uses past status of links
• Using future temporal info

Use of Temporal Info for Routing

– Future status of wirless links
– Future status of nodes

• Availability of wirless links
• Topology change will break this
• e.g. Battery status, discharge rate

– Location prediction

AHWN

5


• Internet topology is hierarchical
• Flat topology routing protocols

• Adhoc networks are much smaller in size
• Hierarchical topology routing protocols
– Logical hierarchy & associated addressing
– Could be based on hops or geographic info

– Reduces size of routing tables
– Can use ﬂat or hierarchical topology

– Flat addressing scheme e.g. IEEE 802.3 LANs

Based on N/W Topology
• Assumes globally unique addresses

AHWN

6


• Power aware routing

• Geographical info assisted routing

Utilization of Speciﬁc Resources
– Minimize the battery consumption
– Can consider local power consumption of 

global power consumption
– Reduce control overhead using 
– Improve routing performance

• Geographic info

AHWN

7


• Others

• Table driven routing
• On demand routing
– DSR, AODV, TORA
• Hybrid Routing

– CEDAR

– DSDV, WRP

– Efﬁcient ﬂooding mechanisms based
– Hierarchical routing
– Power aware routing

AHWN Routing Protocols

AHWN

8


Direct Sequence Distance Vector
• DSDV: the ﬁrst protocol proposed for AHWN
• Based on distributed Bellman-Ford algo
– Shortest path from this node to every node
• Node maintains info about all destinations
• Tables are exchanged periodically
• Sequence number based table updates achieve

– Address Count to Inﬁnity problem
– Prevent loops
– Faster convergence

AHWN

9

Distance Vector Routing (Review)
vAssumption 

vDistributed 
vIterative  
vAsynchronous 

vBased on Bellman-Ford equation

§node knows cost of its connected link 
§A down (or non-existent) link cost is infinity 
§each node receives info from neighbors 
§computes routing and distributes to neighbors 
§no central computation 
§routing computation stops when no more info 
§it is self terminating - no external control 
§each node does not work in sync with others 

Distance Vector Routing (Review)
vRouter doesn’t know exact n/w topology 
vUses router as signposts along the path to dstn 
vSends periodic updates 
vCore of the DV protocol 
§Bellman Ford Algorithm 

vWorks best in following type of situations 

§network is simple and flat 

§administrators don’t have enough knowledge 
§Worst case convergence time is not a concern

•does not require hierarchical design 
•configure/troubleshoot LSP 


Initial Network

DV Routing - Example

Src: CCNA Module 2


DV Routing - Example
vAfter the exchange of routing packets

Src: CCNA Module 2


DV Routing - Loop

vsrc: CCNA Mod2/Chap4/4.4.1.1 loop animation 

§ what happens when Fa0/0 of R3 goes down 
§ R2 informs R3 that it can reach 10.4.0.0 
§ R3 makes routing entry for 10.4.0.0 to send to R2


DV Routing - Count to Infinity

vaec: CCNA Mod2/Chap4/4.4.2.1 count to infinity 

§ what happens when Fa0/0 of R3 goes down 
§ R2 informs R3 that it can reach 10.4.0.0 
§ R3 makes routing entry for 10.4.0.0 
§ R3 updates R2, R2 updated its hop count to 10.4.0.0

DV Routing - Split Horizon

vSplit horizon Rule 

vSolution to count to infinity 

§define some fixed value as infinity 
§prevents routing loops? 
§“A Router should not advertise a 
network through the interface from 
which the update came” 
§Apply this rule to previous example

Count to Infinity with poison reverse

vStable state 

vLink X to A fails 

§dx(A)=1, dy(A)=3, dz(A)=4 
§thus A is not reachable at all

2
x
1
1
y
3
A

z
y
3
A

Count to Infinity with poison reverse

vHow does DV work 

vSolution: Define infinity as some fixed value

vStable state 

vLink X to A fails 

§ Y learns from Z that it can reach A with cost 4 
§ Y advertises to X that it can reach with cost 5 
§ X updates it table, says A is reachable with cost of 7 
§ X advertises to Z that updated cost to A is 7 
§ Z updates its cost to A 10 (7+3) from 4. 
§ The process goes on till infinity 

§dx(A)=1, dy(A)=3, dz(A)=4 
§Thus A is not reachable at all
•Y updates its cost to A as 5 

x
1
y
3
A
2
X

1
z
y
3
A
2
X


• Table updates are of two types

• Each update by destination uses new seq num
• One link break propagates across whole n/w
• Destination node itself used even sequence

– Incremental updates
– Full dumps update

–  Neighbour node uses odd sequence

• Local topo sess minor changes

• Topology changes signiﬁcantly
• Table updates require more than 1 NPDU

AHWN

DSDV

19




AHWN

DSDV

20




AHWN

21


• Maintains the simplicity of Distance Vector
• Guarantee loop freeness
– New entry for seq number in DV table
• Allow fast reaction to topology changes
• Seq num originates from destination

– Ensures loop freeness

– Immediate advertisement on signiﬁcant changes
– Wait with advertiszem of unstable routes

AHWN

DSDV

22


• Routing table update

• Routing information in advertisement
– Dstn addr, seq num, metric (hop count)
• Rules to set seq number information

– On own advertisement, increase seq num by 2
– If a node is not reachable, increase seq by 1
– Select route with higher dstn seq num
– Same seq num, selcet better metric route

• Even seq num
• Set metric (hop count) to ∞
• Ensures newest info from dstn

AHWN

DSDV

23


Dst Nxt Hop Seq
300
A A 0
B B 1
198
100
C B 2

A

AHWN

DSDV
Dst Nxt Hop Seq
300
A A 1
B B 0
198
100
C B 1

B

C
Dst Nxt Hop Seq
300
A B 2
B B 1
198
100
C C 0
24


Dst Nxt Hop Seq
300
A A 0
B B 1
200
100
C B 2

A

DSDV Route Advertisement

AHWN

Dst Nxt Hop Seq
300
A A 1
B B 0
200
100
C B 1

B

C
Dst Nxt Hop Seq
300
A B 2
B B 1
200
100
C C 0
25


Dst Nxt Hop Seq
300
A A 0
B B 1
200
100
C B 2

A

DSDV New Node

AHWN

Dst Nxt Hop Seq
300
A A 1
B B 0
200
100
C B 1

B

C
Dst Nxt Hop Seq
300
A B 2
B B 1
200
100
C C 0
0
D D 1
26

D
26


Dst Nxt Hop Seq
300
A A 0
B B 1
200
100
C B 2
0
D B 3

A

DSDV New Node Update

AHWN

Dst Nxt Hop Seq
300
A A 1
B B 0
200
100
C C 1
0
D C 2

B

C
Dst Nxt Hop Seq
300
A B 2
B B 1
200
100
C C 0
0
D D 1
27

D
27


Dst Nxt Hop Seq
400
A A 0
B B 1
300
200
C B 2
100
D B 3

A

DSDV After Few Updates

AHWN

Dst Nxt Hop Seq
400
A A 1
B B 0
300
200
C C 1
100
D C 2

B

C
Dst Nxt Hop Seq
400
A B 2
B B 1
300
200
C C 0
100
D D 1
28

D
28


Dst Nxt Hop Seq
400
A A 0
B B 1
300
200
C B 2
100
D B 3

A

DSDV Link Break

AHWN

Dst Nxt Hop Seq
400
A A 1
B B 0
300
200
C C 1
100
D C 2

B

C
Dst Nxt Hop Seq
400
A B 2
B B 1
300
200
C C 0
D D ∞ 101
29

DX
29


Dst Nxt Hop Seq
400
A A 0
B B 1
300
C B 2
200
D B ∞ 101

A

DSDV Immediate Advt

AHWN

Dst Nxt Hop Seq
400
A A 1
B B 0
300
200
C C 1
D C ∞ 101

B

C
Dst Nxt Hop Seq
400
A B 2
B B 1
300
200
C C 0
D D ∞ 101
30

DX
30


Hop cnt 
21

B

A
D

Hop cnt 
20

C

DSDV Fluctuations

AHWN

• Entry for D in A
– [D, C, 20, 100]
– [D, B, 21, 102]
– propagates this route
– [D, C, 20, 102]
– propages this route
advertisements

• D makes Bcast: seq 102
• A receives update from B
– [D, B, 21, 102]
– propagates this route
• A receives udpate from C
– [D, C, 20, 102]
– propages this route
• Leads to unnecessary route 

31


• How to damp ﬂuctuations

– Record settling time of every route
– On ﬁrst update with new seq num
– Results in avoidance of unnecessary 

advertisement
• Saving of bandwidth

• wait for this settling time before advertising it

– Propose wait time: 2* avg. settling time

DSDV Fluctuations

AHWN

32


• Advantages
• Disadvantages

– Simple, like distance vector
– Loop free (thru destination seq number)
– Quick convergene (no latency in route 
– No sleeping nodes
– When N1 does not communicate with N2

discovery)

• Routing table overhead of maintaining this info

AHWN

DSDV Summary

33


• Others

• Table driven routing
• On demand routing
– DSR, AODV, TORA
• Hybrid Routing

– CEDAR

– DSDV,  WRP

– Efﬁcient ﬂooding mechanisms based
– Hierarchical routing
– Power aware routing

AHWN Routing Protocols

AHWN

34


• Similar to DSDV

• Differences from DSDV in following

– Uses multiple tables

– Maintains up to date view of network
– Each node has route to each dstn node
– Employs unique method of maintaining info
– Table update process & maintenance
– Checks for other neighbour’s distances

Wireless Routing Protocol
• Shortest distance to each dstn node
• Predecessor (penultimate) node for dstn node
• Maintains more accurate info (than topology)

AHWN

35


• Distance table (DT) of a node x contains
• Routing table (RT) of a node x contains

Wireless Routing Protocol - Tables
– Distance of each dstn y via each neighbour z
– Downstream neighbour of z via the path to y
– Shortest distance to each dstn y, 
– Predecessor (penultimate) node to dstn y
– Successor node of x on path to y
– Path status (simple, invalid, loop)

AHWN

36


• Link Cost Table (LCT) of a node x
• Message Retransmission List (MRL)

Wireless Routing Protocol - Tables
– Cost of link to each neighbour
– Num of timeouts since last successful update
– Which neighbour node has not ack’ed update msg
– Update msg to be retransmitted w/ a counter

• Counter decremented after each retransmission

AHWN

37


Wireless Routing Protocol - Tables
• Mechanism of exchanging info (update msg)

– On receiving update msg

– Exchange routing tables 
– Link changes info
– Nodes on MRL need to ack rcpt of update msg
– If no change in routing table,
– Original node can update its tables
– On receiving Ack, node updates MRL
– Consistency check of neighbours on link change

• Faster convergence

• Node sends Hello msg to ensure connectivity
• Node modiﬁes DT,  and looks for better path
• Any new path found is relayed back to orig node

AHWN

38



Node with predecessor as 12 ? 
  12, 10, 8,7,6,5,4,3,2,1

AHWN

WRP

X 7
X 10
39



12 sends msg to 14,10,4,8,13 
15 sends msg to 14, 13
10,4,8 delete their routing entries

AHWN

WRP
X, the link breaks
X

X
X
X
40
X 7
X 10



12 updates routing entry
10,4,8 update their min cost

X
AHWN

WRP

13X
X
X
14
13
X
10
41
X X13
14
X X
13
X X
14

5
X X 10
14
X X
13
9
X X
14
11
X 10



12 sends update msg to 14,10,4,8,13
10,4 update their routing entries 
In turn they update their neighbours

AHWN

WRP

42


• Advantages:
• Disadvantages

WRP: Advantages & Disadvantages

– Same as DSDV
– Faster convergence than DSDV
– Fewer table updates

– Need large memory and more compute power
– At high mobility, control overhead for updating 

table entries same as DSDV
• Not suitable for highly dynamic topology, AHWN

• More number of tables.

AHWN

43


• Adhoc Wiﬁ Network

AHWN

Assignment -01

44

